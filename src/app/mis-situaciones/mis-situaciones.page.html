<ion-header>
  <ion-toolbar color="primary">
    <ion-title>ğŸ“‹ Mis Situaciones</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-card *ngFor="let situacion of situaciones" class="ion-margin-bottom">
    <img
    [src]="getFotoDataUrl(situacion.foto)"
    alt="Foto de la situaciÃ³n"
    style="width: 100%; height: 200px; object-fit: cover; border-radius: 8px;" />
  

    <ion-card-header>
      <ion-card-title>
        <ion-icon name="alert-circle-outline" color="warning"></ion-icon>
        {{ situacion.titulo }}
      </ion-card-title>
      <p style="font-size: 0.9em; color: gray;">
        ğŸ•’ {{ situacion.fecha | date: 'dd/MM/yyyy hh:mm a' }}
      </p>
    </ion-card-header>

    <ion-card-content>
      <p><strong>ğŸ“ DescripciÃ³n:</strong> {{ situacion.descripcion }}</p>
      <p>
        <strong>ğŸ“ UbicaciÃ³n:</strong> {{ situacion.latitud }}, {{ situacion.longitud }}
      </p>
      <p>
        <strong>ğŸ“Œ Estado:</strong>
        <ion-chip [color]="situacion.estado === 'resuelto' ? 'success' : (situacion.estado === 'en proceso' ? 'warning' : 'medium')">
          <ion-label text-capitalize>{{ situacion.estado }}</ion-label>
        </ion-chip>
      </p>
    </ion-card-content>
  </ion-card>
</ion-content>
